<!--
  Generated template for the CommunitySearchPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header no-border class="feed-header">
  <ion-navbar color="x-mint" hideBackButton>
    
    <ion-title>{{ 'community.search.title' | translate }} ({{ posts.length }})</ion-title>
    <ion-buttons end>
      <button ion-button (click)="navCtrl.pop()"><ion-icon name="flaticon-cross-1" color="x-white"></ion-icon></button>
    </ion-buttons>
  </ion-navbar>
</ion-header>


<ion-content >

    <ion-grid no-padding>
        <ion-row >
          <ion-col col-3 no-margin no-padding>
            <ion-item no-margin no-padding no-lines>
                <ion-select  style="max-width:90%; font-size: 1.5rem;" [(ngModel)] = "searchBy">
                    <ion-option value="title">{{ 'community.searchBy.title' | translate }}</ion-option>
                    <ion-option  value="description">{{ 'community.searchBy.content' | translate }}</ion-option>
                    <ion-option  value="writerName">{{ 'community.searchBy.writer' | translate }}</ion-option>
                </ion-select>
              </ion-item>
              </ion-col>
            <ion-col col-9 no-margin no-padding>
                <ion-item no-margin no-padding no-lines> 
            <ion-input type="text" [(ngModel)]="searchIndex" [placeholder] = "index"></ion-input>
            
              <button icon-only item-right style="background-color: transparent;" (click)="search()" [disabled]="searchIndex.trim().length == 0 "><ion-icon name="search"></ion-icon></button>
  
                </ion-item>
            </ion-col>
        
        </ion-row>
      </ion-grid>


      <ion-grid class="x-list" no-padding>
         
          <ion-row class="x-list-category">
            <ion-col col-12>{{ category.name | translate }}</ion-col>
          </ion-row>

         
          <div *ngFor="let post of posts">
            <ion-row class="x-list-row"  (click)="openPost(menu, post)">
              <ion-col col-12 class="x-list-col">
                <span class="x-list-label">{{ post.payload.val().category | translate}}</span>&nbsp;&nbsp;{{post.payload.val().title}}&nbsp;
                <span class="x-list-ico"><ion-icon name="flaticon-interface"></ion-icon></span>&nbsp;<span class="x-list-count">{{post.payload.val().comments}}</span>
              </ion-col>
            </ion-row>
          </div>
        </ion-grid>

</ion-content>
